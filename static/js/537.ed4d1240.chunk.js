"use strict";(self.webpackChunkcampus_connect_react=self.webpackChunkcampus_connect_react||[]).push([[537],{3415:(e,s,t)=>{t.d(s,{Pu:()=>o,jZ:()=>a});t(9379);var r=t(7977);const a=e=>e?r.A.sanitize(e,{ALLOWED_TAGS:[]}):"",o=e=>a(e).trim()},7537:(e,s,t)=>{t.r(s),t.d(s,{default:()=>p});var r=t(9379),a=t(5043),o=t(3216),n=t(5475),l=t(8592),i=t(5016),c=t(6471),d=t(9335),m=t(3415),u=t(579);const p=()=>{const e=(0,o.Zp)(),{register:s}=(0,i.A)(),{showSuccess:t,showError:p}=(0,c.h)(),[h,x]=(0,a.useState)({email:"",phone:"",enrollment:"",password:"",confirmPassword:""}),[b,g]=(0,a.useState)({}),[w,f]=(0,a.useState)(!1),[j,y]=(0,a.useState)(!1),[N,v]=(0,a.useState)({isValid:!1,errors:[]}),[P,k]=(0,a.useState)(!1),C=e=>{const{name:s,value:t}=e.target,a="password"===s||"confirmPassword"===s?t:(0,m.jZ)(t);if(x((0,r.A)((0,r.A)({},h),{},{[s]:a})),b[s]&&g((0,r.A)((0,r.A)({},b),{},{[s]:""})),"password"===s){const e=(0,d.Oj)(a);v(e)}},S=e=>{"password"===e?f(!w):"confirmPassword"===e&&y(!j)},q=e=>{let{isOpen:s}=e;return(0,u.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",children:s?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{d:"M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z"}),(0,u.jsx)("circle",{cx:"12",cy:"12",r:"3"})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{d:"M17.94 17.94A10.94 10.94 0 0 1 12 19c-7 0-11-7-11-7 .9-1.9 2.2-3.6 3.8-4.9"}),(0,u.jsx)("path",{d:"M1 1l22 22"}),(0,u.jsx)("path",{d:"M9.88 9.88a3 3 0 0 0 4.24 4.24"})]})})};return(0,u.jsxs)("div",{className:"bg-custom-bg text-custom-text min-h-screen flex items-center justify-center transition-theme",children:[(0,u.jsx)("a",{href:"#main-content",className:"skip-to-content",children:"Skip to main content"}),(0,u.jsxs)("main",{id:"main-content",className:"bg-custom-bg-2 p-8 rounded-lg shadow-md w-full max-w-md transition-theme",children:[(0,u.jsx)("h1",{className:"text-2xl font-bold text-center mb-6",children:"Register for Campus Connect"}),(0,u.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,u.jsx)("div",{className:"flex gap-3 items-center",children:(0,u.jsx)(l.A,{showLabel:!0})})}),(0,u.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),(0,d.Eb)("registration",3,6e5))if((()=>{const e={};h.email&&(0,d.B9)(h.email)||(e.email="Please enter a valid college email address"),h.phone&&(0,d.BH)(h.phone)||(e.phone="Please enter a valid phone number"),(!h.enrollment||h.enrollment.trim().length<3)&&(e.enrollment="Please enter a valid enrollment number");const s=(0,d.Oj)(h.password);return s.isValid||(e.password=s.errors[0]),h.password!==h.confirmPassword&&(e.confirmPassword="Passwords do not match"),g(e),0===Object.keys(e).length})()){k(!0);try{const r=await s({name:"Vatsal Joshi",email:h.email,phone:h.phone,enrollment:h.enrollment,password:h.password});r.success?(t("\ud83c\udf89 Registration successful! Welcome to Campus Connect!",{duration:4e3}),localStorage.removeItem("rateLimit_registration"),setTimeout(()=>{e("/")},2e3)):p(r.error||"Registration failed. Please try again.")}catch(a){p("Registration failed. Please try again.")}finally{k(!1)}}else p("Please fix the errors in the form before submitting");else p("Too many registration attempts. Please try again in 10 minutes.")},noValidate:!0,"aria-label":"Registration form",children:[(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsx)("label",{htmlFor:"email",className:"block text-custom-text-secondary text-sm font-bold mb-2 required",children:"Email ID (College Provided)"}),(0,u.jsx)("input",{type:"email",id:"email",name:"email",value:h.email,onChange:C,className:"shadow appearance-none border rounded w-full py-2 px-3 text-custom-text leading-tight focus:outline-none focus:ring-2 focus:ring-custom-teal bg-input ".concat(b.email?"border-red-500":"border-custom-border"),placeholder:"yourname@university.edu",required:!0,disabled:P,"aria-required":"true","aria-invalid":b.email?"true":"false","aria-describedby":b.email?"email-error":"email-help",autoComplete:"email"}),(0,u.jsx)("p",{id:"email-help",className:"text-xs text-custom-text-secondary mt-1",children:"Use your official college email address"}),b.email&&(0,u.jsx)("p",{id:"email-error",className:"text-red-500 text-xs mt-1",role:"alert",children:b.email})]}),(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsx)("label",{htmlFor:"phone",className:"block text-custom-text-secondary text-sm font-bold mb-2 required",children:"Phone Number"}),(0,u.jsx)("input",{type:"tel",id:"phone",name:"phone",value:h.phone,onChange:C,className:"shadow appearance-none border rounded w-full py-2 px-3 text-custom-text leading-tight focus:outline-none focus:ring-2 focus:ring-custom-teal bg-input ".concat(b.phone?"border-red-500":"border-custom-border"),placeholder:"+1 (555) 123-4567",required:!0,disabled:P,"aria-required":"true","aria-invalid":b.phone?"true":"false","aria-describedby":b.phone?"phone-error":void 0,autoComplete:"tel"}),b.phone&&(0,u.jsx)("p",{id:"phone-error",className:"text-red-500 text-xs mt-1",role:"alert",children:b.phone})]}),(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsx)("label",{htmlFor:"enrollment",className:"block text-custom-text-secondary text-sm font-bold mb-2 required",children:"Enrollment Number"}),(0,u.jsx)("input",{type:"text",id:"enrollment",name:"enrollment",value:h.enrollment,onChange:C,className:"shadow appearance-none border rounded w-full py-2 px-3 text-custom-text leading-tight focus:outline-none focus:ring-2 focus:ring-custom-teal bg-input ".concat(b.enrollment?"border-red-500":"border-custom-border"),placeholder:"ENR123456",required:!0,disabled:P,"aria-required":"true","aria-invalid":b.enrollment?"true":"false","aria-describedby":b.enrollment?"enrollment-error":void 0,autoComplete:"off"}),b.enrollment&&(0,u.jsx)("p",{id:"enrollment-error",className:"text-red-500 text-xs mt-1",role:"alert",children:b.enrollment})]}),(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsx)("label",{htmlFor:"password",className:"block text-custom-text-secondary text-sm font-bold mb-2 required",children:"Password"}),(0,u.jsxs)("div",{className:"input-with-icon",children:[(0,u.jsx)("input",{type:w?"text":"password",id:"password",name:"password",value:h.password,onChange:C,className:"shadow appearance-none border rounded w-full py-2 px-3 pr-10 text-custom-text leading-tight focus:outline-none focus:ring-2 focus:ring-custom-teal bg-input ".concat(b.password?"border-red-500":"border-custom-border"),placeholder:"Create a strong password",required:!0,disabled:P,"aria-required":"true","aria-invalid":b.password?"true":"false","aria-describedby":"password-requirements password-error",autoComplete:"new-password",minLength:"8"}),(0,u.jsx)("button",{type:"button",className:"toggle-password",onClick:()=>S("password"),"aria-label":w?"Hide password":"Show password",tabIndex:"0",children:(0,u.jsx)(q,{isOpen:w})})]}),(0,u.jsxs)("div",{id:"password-requirements",className:"text-xs mt-2 space-y-1",children:[(0,u.jsx)("p",{className:"text-custom-text-secondary font-semibold",children:"Password must contain:"}),(0,u.jsxs)("ul",{className:"list-disc list-inside text-custom-text-secondary space-y-1",children:[(0,u.jsx)("li",{className:h.password.length>=8?"text-green-600":"",children:"At least 8 characters"}),(0,u.jsx)("li",{className:/[A-Z]/.test(h.password)?"text-green-600":"",children:"One uppercase letter"}),(0,u.jsx)("li",{className:/[a-z]/.test(h.password)?"text-green-600":"",children:"One lowercase letter"}),(0,u.jsx)("li",{className:/[0-9]/.test(h.password)?"text-green-600":"",children:"One number"}),(0,u.jsx)("li",{className:/[!@#$%^&*(),.?":{}|<>]/.test(h.password)?"text-green-600":"",children:"One special character"})]})]}),b.password&&(0,u.jsx)("p",{id:"password-error",className:"text-red-500 text-xs mt-1",role:"alert",children:b.password})]}),(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsx)("label",{htmlFor:"confirmPassword",className:"block text-custom-text-secondary text-sm font-bold mb-2 required",children:"Confirm Password"}),(0,u.jsxs)("div",{className:"input-with-icon",children:[(0,u.jsx)("input",{type:j?"text":"password",id:"confirmPassword",name:"confirmPassword",value:h.confirmPassword,onChange:C,className:"shadow appearance-none border rounded w-full py-2 px-3 pr-10 text-custom-text leading-tight focus:outline-none focus:ring-2 focus:ring-custom-teal bg-input ".concat(b.confirmPassword?"border-red-500":"border-custom-border"),placeholder:"Re-enter your password",required:!0,disabled:P,"aria-required":"true","aria-invalid":b.confirmPassword?"true":"false","aria-describedby":b.confirmPassword?"confirm-password-error":void 0,autoComplete:"new-password"}),(0,u.jsx)("button",{type:"button",className:"toggle-password",onClick:()=>S("confirmPassword"),"aria-label":j?"Hide confirm password":"Show confirm password",tabIndex:"0",children:(0,u.jsx)(q,{isOpen:j})})]}),b.confirmPassword&&(0,u.jsx)("p",{id:"confirm-password-error",className:"text-red-500 text-xs mt-1",role:"alert",children:b.confirmPassword})]}),(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)("button",{className:"bg-custom-blue hover:bg-blue-700 active:bg-blue-800 text-white font-bold py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-custom-blue focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",type:"submit",disabled:P,"aria-busy":P?"true":"false",children:P?"Registering...":"Register"}),(0,u.jsx)(n.N_,{to:"/login",className:"inline-block align-baseline font-bold text-sm text-custom-teal hover:text-blue-800 focus:outline-none focus:ring-2 focus:ring-custom-teal rounded px-1","aria-label":"Sign in to existing account",children:"Already have an account?"})]})]})]})]})}},8592:(e,s,t)=>{t.d(s,{A:()=>n});var r=t(5043),a=t(3005),o=t(579);const n=e=>{let{showLabel:s=!1}=e;const{isDark:t,toggleTheme:n}=(0,a.D)(),l=(0,r.useCallback)(()=>{n()},[n]),i=(0,r.useCallback)(e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),l())},[l]),c=t?"Switch to Light Mode":"Switch to Dark Mode";return(0,o.jsxs)("div",{className:"flex items-center",children:[s&&(0,o.jsx)("span",{className:"mr-2 text-sm text-custom-text",children:c}),(0,o.jsxs)("div",{className:"relative inline-block",children:[(0,o.jsx)("input",{type:"checkbox",id:"theme-toggle",className:"sr-only",checked:t,onChange:l,onKeyDown:i,"aria-label":c}),(0,o.jsx)("label",{htmlFor:"theme-toggle",className:"theme-toggle ".concat(t?"checked":""),role:"switch","aria-checked":t,children:(0,o.jsx)("div",{className:"theme-toggle-knob"})})]})]})}},9335:(e,s,t)=>{t.d(s,{B9:()=>o,BH:()=>l,Eb:()=>i,Oj:()=>n});var r=t(4650),a=t.n(r);const o=e=>a().isEmail(e||""),n=e=>{const s=[];return(!e||e.length<8)&&s.push("Password must be at least 8 characters long"),/[A-Z]/.test(e)||s.push("Password must contain at least one uppercase letter"),/[a-z]/.test(e)||s.push("Password must contain at least one lowercase letter"),/[0-9]/.test(e)||s.push("Password must contain at least one number"),/[!@#$%^&*(),.?":{}|<>]/.test(e)||s.push("Password must contain at least one special character"),{isValid:0===s.length,errors:s}},l=e=>a().isMobilePhone(e||"","any",{strictMode:!1}),i=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6e4;const r=Date.now(),a=JSON.parse(localStorage.getItem("rateLimit_".concat(e))||"[]").filter(e=>r-e<t);return!(a.length>=s)&&(a.push(r),localStorage.setItem("rateLimit_".concat(e),JSON.stringify(a)),!0)}}}]);
//# sourceMappingURL=537.ed4d1240.chunk.js.map